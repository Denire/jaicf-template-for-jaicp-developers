# Шаблон для разработки навыков на JAICF



## Подключение
В шаблоне предусмотрены варианты подключения через webhook или polling-соединения.
* `polling` - тип соединения, когда наш бот сам обращается к серверам JustAI для получения новых запросов. 
  Этот тип подключения проще и рекомендуется для локальной разработки.
  Пример запуска:
    1. Установить `connection.mode: polling` в файле `application-local.yml`
    ```yaml
      connection:
        mode: polling
    ```
    2. Запустить приложение
       ```kotlin
          fun main() {
              templateBot.run(ChatWidgetChannel, ChatApiChannel, TelephonyChannel)
          }
       ```
  
* `webhook` - тип соединения, когда сервера JustAI ходят на наше приложение через внешний URL. 
  В этом случае мы должны обеспечить доступность приложения по внешнему адресу, например, с помощью утилиты ngrok.
  
  Пример запуска:
  1. Установить `connection.mode: webhook` в файле `application-local.yml`
    ```yaml
      connection:
        mode: webhook
    ```
  2. Запустить приложение
     ```kotlin
        fun main() {
            templateBot.run(ChatWidgetChannel, ChatApiChannel, TelephonyChannel)
        }
     ```
  3. Получить внешний адрес через ngrok, скопировать его.
    ```shell
    $ ngrok http 8080
    ```
  4. Поставить тип соединения `webhook`  в настройках  JAICF проекта в админке, указать скопированный URL.

    

Для локальной разработки (для запуска бота на своём копмьютере) рекомендуется использовать polling-соединение.

## Конфигурирование


## Работа с JSON
В шаблоне подключены две библиотеки для работы с JSON:
* Jackson
* Kotlinx Serialization

Они доступны из любого места в приложении и решают задачи приведения обьекта в строковый вид и обратно.

### Сериализация и десериализация
Зачастую появляется необходимость 

## Работа с HTTP

## Деплой в облако

